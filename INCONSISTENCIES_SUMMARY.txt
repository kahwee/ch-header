CHHEADER: POPUP-TEMPLATE.TS VS STORYBOOK INCONSISTENCIES - QUICK REFERENCE
============================================================================

KEY FINDINGS:

1. HARDCODED BUTTONS (Should Use Components)
   Location: popup-template.ts lines 145, 152, 160-165
   
   a) Profile Avatar Button (Line 145)
      - 18 Tailwind classes hardcoded
      - No isolated story
      - Could use color-picker-button component or add story
   
   b) Options Menu Button (Line 152)  
      - Custom dropdown trigger with 11 classes
      - No story for menu toggle button pattern
      - Should have MenuButton.stories.ts
   
   c) Menu Items (Lines 160-165)
      - Repeated 4 times with 11 classes each
      - Delete variant uses red text (text-red-400)
      - Should extract to MenuItem component


2. MISSING STORY FILES
   
   - Dropdown.stories.ts (for el-dropdown/el-menu pattern)
   - FormInput.stories.ts (for input/textarea patterns)  
   - EmptyState.stories.ts (for no-results pattern)
   - MenuItem.stories.ts (for menu item pattern)
   - AvatarButton.stories.ts (for profile avatar button)


3. GOOD COMPONENT COVERAGE
   ✓ solidButton - All 3 popup usages covered (lines 125, 140, 225)
   ✓ sectionHeader - All 3 popup usages covered with extra variants
   ✓ ghostButton - All 2 indirect usages covered (via render files)


4. LAYOUT INCONSISTENCIES
   
   - Matcher rows: Use flex layout (div with flex classes)
   - Header rows: Use table layout (tr/td elements)
   - No story showing this layout difference documented


5. STYLE/TAILWIND INCONSISTENCIES
   
   - avatarInitials uses inline style for text-shadow
   - Should use Tailwind classes like renderAvatar() does
   - Inconsistent shadow application methods


6. UNDOCUMENTED PATTERNS
   
   - Color palette grid (7-column layout, lines 173-187)
     Documented in ColorPicker.stories.ts but duplicated
   - Profile list item (good coverage but missing variants)
   - Table wrapper classes for responsive design (14 classes)


7. MISSING STATE VARIATIONS
   
   - Disabled button state (no story)
   - Loading button state (not supported)
   - Error button state (not in stories)
   - Form field error states
   - Long profile name overflow behavior


CRITICAL PRIORITIES:
====================
1. Extract MenuItem component from hardcoded buttons
2. Create Dropdown.stories.ts for el-dropdown pattern
3. Add MenuButton.stories.ts for menu toggle pattern
4. Add disabled/error state stories to Buttons.stories.ts


MEDIUM PRIORITIES:
==================
5. Create FormInput.stories.ts for input/textarea patterns
6. Extract ColorGrid component (deduplicate from stories)
7. Create EmptyState.stories.ts
8. Add avatar button story


DETAILED ANALYSIS:
==================
See POPUP_TEMPLATE_ANALYSIS.md for complete breakdown with:
- Line-by-line code examples
- Table of all components and coverage
- Detailed recommendations
- File location references
