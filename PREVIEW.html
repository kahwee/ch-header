<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChHeader - Popup Preview</title>
    <style>
      @import 'tailwindcss';
    </style>
  </head>
  <body class="m-0 bg-bg text-text p-5 font-sans">
    <h1 class="text-center text-primary mt-0 text-3xl font-bold">ChHeader - Popup Preview</h1>

    <div class="max-w-3xl mx-auto bg-bg rounded-2xl overflow-hidden shadow-2xl">
      <div id="app" class="w-full h-[520px] grid grid-rows-[auto_1fr]">
        <header class="flex gap-2 p-2.5 border-b border-[#222] bg-[#0f121a]">
          <input
            id="search"
            class="flex-1 px-3 py-2.5 rounded-lg border border-[#25283a] bg-[#0f121a] text-text text-sm focus:outline-none focus:border-primary"
            type="search"
            placeholder="Search profilesâ€¦ (âŒ˜/Ctrl+K)"
            autocomplete="off"
          />
          <button
            id="newProfile"
            class="px-3 py-2.5 rounded-lg bg-[#1e2233] text-text border border-[#2a2f44] cursor-pointer transition-all hover:bg-[#25293d] font-semibold"
          >
            New
          </button>
        </header>

        <main class="grid grid-cols-[260px_1fr] min-h-0 overflow-hidden">
          <aside class="border-r border-[#222] overflow-y-auto bg-[#0f121a]">
            <ul id="profileList" class="list-none m-0 p-2" role="list">
              <li
                class="grid grid-cols-[10px_1fr_auto] gap-2 items-center p-2.5 rounded-[10px] cursor-pointer transition-colors hover:bg-[#171a26] bg-[#1b1f2f]"
                data-id="prod"
              >
                <span class="w-2 h-2 rounded-full" style="background: #6b4eff"></span>
                <div>
                  <div class="font-semibold text-sm">Production</div>
                  <div class="text-xs text-muted">Auth headers</div>
                </div>
                <span class="text-xs text-muted">Enabled</span>
              </li>
              <li
                class="grid grid-cols-[10px_1fr_auto] gap-2 items-center p-2.5 rounded-[10px] cursor-pointer transition-colors hover:bg-[#171a26]"
                data-id="staging"
              >
                <span class="w-2 h-2 rounded-full" style="background: #ff9800"></span>
                <div>
                  <div class="font-semibold text-sm">Staging</div>
                  <div class="text-xs text-muted">Test environment</div>
                </div>
              </li>
              <li
                class="grid grid-cols-[10px_1fr_auto] gap-2 items-center p-2.5 rounded-[10px] cursor-pointer transition-colors hover:bg-[#171a26]"
                data-id="local"
              >
                <span class="w-2 h-2 rounded-full" style="background: #4caf50"></span>
                <div>
                  <div class="font-semibold text-sm">Local Dev</div>
                  <div class="text-xs text-muted">localhost:3000</div>
                </div>
              </li>
            </ul>
          </aside>
          <section class="overflow-y-auto">
            <div id="detail" class="p-4 grid gap-3">
              <div class="flex gap-2">
                <input
                  id="profileName"
                  class="flex-1 px-3 py-2.5 rounded-lg border border-[#2a2f44] bg-panel text-text font-bold text-base focus:outline-none focus:border-primary"
                  value="Production"
                  placeholder="Profile name"
                />
                <input
                  id="profileColor"
                  class="w-11 h-11 rounded-[10px] border border-[#2a2f44] bg-panel cursor-pointer"
                  type="color"
                  value="#6b4eff"
                />
              </div>
              <textarea
                id="profileNotes"
                class="min-h-16 resize-vertical px-3 py-2.5 rounded-lg border border-[#2a2f44] bg-panel text-text font-inherit text-inherit"
                placeholder="Notes (optional)"
              >
Add authentication headers to production API endpoints</textarea
              >

              <div class="bg-[#121522] border border-[#2a2f44] rounded-lg p-2.5 grid gap-2">
                <div class="flex items-center justify-between">
                  <h3 class="m-0 text-sm text-muted font-semibold">Matchers</h3>
                  <button
                    id="addMatcher"
                    class="px-2 py-1.5 rounded-lg bg-[#1e2233] text-text border border-[#2a2f44] cursor-pointer transition-all hover:bg-[#25293d] font-semibold text-xs"
                  >
                    Add
                  </button>
                </div>
                <div class="text-xs text-muted p-2">Matches: api.example.com</div>
              </div>

              <div class="grid grid-cols-2 gap-2.5">
                <div class="bg-[#121522] border border-[#2a2f44] rounded-lg p-2.5 grid gap-2">
                  <div class="flex items-center justify-between">
                    <h3 class="m-0 text-sm text-muted font-semibold">Request headers</h3>
                    <button
                      id="addReq"
                      class="px-2 py-1.5 rounded-lg bg-[#1e2233] text-text border border-[#2a2f44] cursor-pointer transition-all hover:bg-[#25293d] font-semibold text-xs"
                    >
                      Add
                    </button>
                  </div>
                  <div class="text-xs text-muted p-2">
                    Authorization: Bearer token<br />
                    X-API-Key: secret-key
                  </div>
                </div>
                <div class="bg-[#121522] border border-[#2a2f44] rounded-lg p-2.5 grid gap-2">
                  <div class="flex items-center justify-between">
                    <h3 class="m-0 text-sm text-muted font-semibold">Response headers</h3>
                    <button
                      id="addRes"
                      class="px-2 py-1.5 rounded-lg bg-[#1e2233] text-text border border-[#2a2f44] cursor-pointer transition-all hover:bg-[#25293d] font-semibold text-xs"
                    >
                      Add
                    </button>
                  </div>
                  <div class="text-xs text-muted p-2">(None configured)</div>
                </div>
              </div>

              <footer
                class="flex items-center gap-2 pt-2.5 pb-0 px-0 border-t border-[#2a2f44] mt-3"
              >
                <label class="inline-flex items-center gap-2 text-muted cursor-pointer text-sm">
                  <input id="enabled" type="checkbox" checked />
                  <span>Enable this profile</span>
                </label>
                <div class="flex-1"></div>
                <button
                  id="duplicate"
                  class="px-3 py-2.5 rounded-lg bg-[#1e2233] text-text border border-[#2a2f44] cursor-pointer transition-all hover:bg-[#25293d] font-semibold"
                >
                  Duplicate
                </button>
                <button
                  id="delete"
                  class="px-3 py-2.5 rounded-lg bg-danger border border-danger text-white cursor-pointer transition-all hover:opacity-90 font-semibold"
                >
                  Delete
                </button>
                <button
                  id="apply"
                  class="px-3 py-2.5 rounded-lg bg-primary border border-primary text-white cursor-pointer transition-all hover:opacity-90 font-semibold"
                >
                  Apply
                </button>
              </footer>
            </div>
          </section>
        </main>
      </div>
    </div>

    <div
      class="max-w-3xl mx-auto mt-5 p-5 bg-[#121522] border border-[#2a2f44] rounded-lg text-text"
    >
      <h2 class="mt-0 text-primary font-bold text-xl">âœ¨ ChHeader UI Features</h2>
      <ul class="my-2.5 pl-5">
        <li class="my-2 text-sm">
          <strong>Profile Management:</strong> Create, edit, duplicate, and delete profiles
        </li>
        <li class="my-2 text-sm">
          <strong>Dark Theme:</strong> Modern dark UI with purple accent colors
        </li>
        <li class="my-2 text-sm">
          <strong>URL Matchers:</strong> Target specific domains with header modifications
        </li>
        <li class="my-2 text-sm">
          <strong>Request Headers:</strong> Add, append, or remove request headers (set, append,
          remove)
        </li>
        <li class="my-2 text-sm">
          <strong>Response Headers:</strong> Modify response headers for requests
        </li>
        <li class="my-2 text-sm">
          <strong>Enable/Disable:</strong> Toggle profiles on/off without deleting
        </li>
        <li class="my-2 text-sm">
          <strong>Search:</strong> Quick search profiles by name or notes (Cmd/Ctrl+K)
        </li>
        <li class="my-2 text-sm">
          <strong>Color Coding:</strong> Assign colors to profiles for quick identification
        </li>
        <li class="my-2 text-sm">
          <strong>One Active Profile:</strong> Only one profile enabled at a time
        </li>
      </ul>

      <h2 class="text-primary font-bold text-xl">ðŸš€ How to Use</h2>
      <ul class="my-2.5 pl-5">
        <li class="my-2 text-sm">
          Load the extension in Chrome:
          <code class="bg-[#0f1115] px-1.5 py-0.5 rounded">npm run build</code> â†’
          <code class="bg-[#0f1115] px-1.5 py-0.5 rounded">chrome://extensions</code> â†’ Load
          unpacked â†’ select <code class="bg-[#0f1115] px-1.5 py-0.5 rounded">dist/</code>
        </li>
        <li class="my-2 text-sm">Click the ChHeader icon to open this popup</li>
        <li class="my-2 text-sm">Create a new profile with <strong>New</strong> button</li>
        <li class="my-2 text-sm">Add matchers (domain filters) for where the headers apply</li>
        <li class="my-2 text-sm">Configure request/response headers (set/append/remove)</li>
        <li class="my-2 text-sm">Enable the profile with the checkbox</li>
        <li class="my-2 text-sm">
          Click <strong>Apply</strong> to activate Declarative Net Request rules
        </li>
      </ul>

      <h2 class="text-primary font-bold text-xl">ðŸ“Š Technical Details</h2>
      <ul class="my-2.5 pl-5">
        <li class="my-2 text-sm"><strong>API:</strong> Chrome's Declarative Net Request (DNR)</li>
        <li class="my-2 text-sm">
          <strong>Storage:</strong> chrome.storage.local (persists across sessions)
        </li>
        <li class="my-2 text-sm"><strong>Architecture:</strong> Service worker + popup UI</li>
        <li class="my-2 text-sm">
          <strong>Type Safety:</strong> Full TypeScript with Chrome API types
        </li>
        <li class="my-2 text-sm"><strong>Testing:</strong> 48 unit + UI component tests</li>
      </ul>
    </div>
  </body>
</html>
